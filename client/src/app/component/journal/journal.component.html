<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">

      <div *ngIf="isSelected == false" class="alert alert-warning" role="alert">Select discipline and journal</div>

      <div *ngIf="isSelected == true || isSelected == true && isLastLevel == true" class="alert alert-info" role="alert">
      <button *ngIf="isSelected == true" (click)="goUp()"
                class="btn glyphicon glyphicon-arrow-up">
        </button>

        <button *ngIf="isSelected == true && isLastLevel == true"
                class="btn btn-primary">
          {{getSelectedLayer()}}
        </button>

        <button *ngIf="isSelected == true && isLastLevel == true" (click)="saveTemplate()"
                class="btn brn-success">
          Save
        </button>
      </div>

      <div *ngIf="isSelected == false" class="col-md-12">
        <div class="col-md-6">
          <div class="alert alert-info" role="alert">Disciplines:</div>
          <ul>
            <li *ngFor="let d of disciplines" (click)="setDiscipline(d)">
                <span>
                  {{d.name}}
                </span>
            </li>
          </ul>
        </div>

        <div class="col-md-6" *ngIf="discipline != null">
          <div class="alert alert-success" role="alert">Journals:</div>
          <ul *ngFor="let t of templates">
            <li (click)="selectTemplate(t)">
                <span>
                  {{t.templateName}}
                </span>
            </li>
          </ul>
        </div>
      </div>

      <div class="col-md-12">
        <div *ngIf="isSelected == true">
          <div *ngIf="isLastLevel == false">
            <table class="table table-hover">
              <thead>
              <tr>
                <th>Type</th>
                <th>Name</th>
                <th>Length</th>
              </tr>
              </thead>

              <tbody>
              <tr *ngFor="let l of getLayers()" (click)="selectLayer(l)">
                <td>{{l.layerType}}</td>
                <td>{{l.layerName}}</td>
                <td>{{l.layers.length}}</td>
              </tr>
              </tbody>
            </table>
          </div>

          <div *ngIf="isLastLevel == true">
            <table class="table table-hover">
              <thead>
              <tr>
                <th>Name</th>
                <th *ngFor="let st of getLastStatistics()">
                  {{st.date}}
                </th>
              </tr>
              </thead>

              <tbody>
              <tr *ngFor="let l of getStudents()">
                <td [class.absent]="isAbsent(l) == true">
                  <button (click)="setAbsent(l)">
                    {{l.name}}
                  </button>
                </td>
                <td *ngFor="let st of getStatisticsForLastFewDays(l)">
                  {{getStatusForSomeDate(st)}}
                </td>
                <td class="td-column">
                  <div>
                    <input [readonly]="isAbsent(l) == true" class="mark" type="text"
                           [(ngModel)]="l.statistics[l.statistics.length - 1].status.mark">
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
